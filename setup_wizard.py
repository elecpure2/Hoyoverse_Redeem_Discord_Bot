import os
import sys

def main():
    # ì½˜ì†” ì¸ì½”ë”© ì„¤ì •
    if os.name == 'nt':
        os.system('chcp 65001')
        os.system('cls')

    print("\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—")
    print("â•‘          ğŸ› ï¸ í˜¸ìš”ë´‡ ì„¤ì • ë§ˆë²•ì‚¬             â•‘")
    print("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n")

    print("ì´ ë§ˆë²•ì‚¬ëŠ” ë´‡ ì‹¤í–‰ì— í•„ìš”í•œ .env íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.\n")

    # ì´ë¯¸ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
    if os.path.exists(".env"):
        print("âš ï¸  ì´ë¯¸ .env íŒŒì¼ì´ ì¡´ì¬í•©ë‹ˆë‹¤.")
        choice = input("ë®ì–´ì“°ì‹œê² ìŠµë‹ˆê¹Œ? (Y/N): ").upper()
        if choice != 'Y':
            print("\nâŒ ì„¤ì •ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.")
            time.sleep(2)
            sys.exit(0)
        print()

    print("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n")
    
    # ë””ìŠ¤ì½”ë“œ í† í° ì…ë ¥
    print("ğŸ“‹ [1/2] ë””ìŠ¤ì½”ë“œ ë´‡ í† í°ì„ ì…ë ¥í•˜ì„¸ìš”.")
    print("   (Discord Developer Portalì—ì„œ ë°œê¸‰ë°›ì€ Token)\n")
    discord_token = input("í† í° ë¶™ì—¬ë„£ê¸°: ").strip()

    if not discord_token:
        print("\nâŒ í† í°ì´ ì…ë ¥ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹¤í–‰í•´ì£¼ì„¸ìš”.")
        input("ì—”í„°ë¥¼ ëˆ„ë¥´ë©´ ì¢…ë£Œí•©ë‹ˆë‹¤...")
        sys.exit(1)

    print("\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n")

    # ì œë¯¸ë‚˜ì´ í‚¤ ì…ë ¥
    print("ğŸ¤– [2/2] Gemini API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”. (ì„ íƒ)")
    print("   (AI ì±„íŒ… ê¸°ëŠ¥ì„ ì•ˆ ì“°ë ¤ë©´ ê·¸ëƒ¥ ì—”í„°ë¥¼ ëˆ„ë¥´ì„¸ìš”)\n")
    gemini_key = input("API í‚¤ ë¶™ì—¬ë„£ê¸°: ").strip()

    # íŒŒì¼ ìƒì„±
    try:
        with open(".env", "w", encoding="utf-8") as f:
            f.write(f'DISCORD_TOKEN="{discord_token}"\n')
            if gemini_key:
                f.write(f'GEMINI_API_KEY="{gemini_key}"\n')
        
        print("\nâœ… ì„¤ì • íŒŒì¼(.env)ì´ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!")
        print("ì´ì œ 'ë´‡ ì‹œì‘í•˜ê¸°.bat'ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”.")
        
    except Exception as e:
        print(f"\nâŒ íŒŒì¼ ìƒì„± ì‹¤íŒ¨: {e}")

    print("\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n")
    input("ì—”í„°ë¥¼ ëˆ„ë¥´ë©´ ì¢…ë£Œí•©ë‹ˆë‹¤...")

if __name__ == "__main__":
    import time
    main()
